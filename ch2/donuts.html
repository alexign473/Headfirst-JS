<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dunkan's just in time donuts</title>
    <link rel="stylesheet" href="donuts.css">
    <script>
        function updateOrder() {
            const TAXRATE = 0.0925
            const DONUTPRICE = 0.5
            var numCakeDonuts = parseDonuts(document.getElementById("cakedonuts").value)
            var numGlazedDonuts = parseDonuts(document.getElementById("glazeddonuts").value)
            var subTotal = (numCakeDonuts + numGlazedDonuts) * DONUTPRICE
            var tax = subTotal + TAXRATE
            var total = subTotal + tax
            document.getElementById("subtotal").value = '$' + subTotal.toFixed(2)
            document.getElementById("total").value = '$' + total.toFixed(2)
            document.getElementById("tax").value = '$' + tax.toFixed(2)
        }
        function placeOrder() {
            form.submit()
        }

        function parseDonuts(donutString) {
            numDonuts = parseInt(donutString)
            if (donutString.indexOf("dozen") != -1)
                numDonuts *= 12
            return numDonuts
        }
    </script>
</head>

<body>
    <div id="frame">
        <form name="orderform" action="donuts.php" method="POST">
            <div class="field">
                Число пончиков: <input type="text" id="cakedonuts" name="cakedonuts" value="" onchange="updateOrder()">
            </div>
            <div class="field">
                Глазированных: <input type="text" id="glazeddonuts" name="glazeddonuts" value=""
                    onchange="updateOrder()">
            </div>
            <div class="field">
                <input type="button" value="Сделать заказ" onclick="placeOrder(this.form)">
            </div>
        </form>
    </div>
</body>

</html>